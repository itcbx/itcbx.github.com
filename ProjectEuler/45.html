<html>
<head>
    <title>45</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="Stylesheet" type="text/css" href="../assets/styles/style.css" />
    <script src="../assets/js/jquery.js" type="text/javascript"></script>
    <script>
        var root_path = "../";
    </script>

</head>
<body>
    <div id="all">
        <div id="header"></div>
        <div id="main">
            
<h1 id="toc_1">Project Euler Problem 45</h1>

<h2 id="toc_1.1">Description</h2>
<p>
Triangle, pentagonal, and hexagonal numbers are generated by the following formulae:
<table>
<tr>
<td>
Triangle
</td>
<td>
\(T_n=n(n+1)/2\)
</td>
<td>
1, 3, 6, 10, 15, ...
</td>
</tr>
<tr>
<td>
Pentagonal
</td>
<td>
\(P_n=n(3n-1)/2\)
</td>
<td>
1, 5, 12, 22, 35, ...
</td>
</tr>
<tr>
<td>
Hexagonal
</td>
<td>
\(H_n=n(2n-1)\)
</td>
<td>
1, 6, 15, 28, 45, ...
</td>
</tr>
</table>
It can be verified that \(T_{285} = P_{165} = H_{143} = 40755\).
</p>

<p>
Find the next triangle number that is also pentagonal and hexagonal.
</p>

<h2 id="toc_1.2">Solution</h2>
<p>
上面的三个式子，我们注意到，凡是Hexagonal里存在的数，在Triangle里都能存在。因为另n=2h-1，则有n(n+1)/2=(2h-1)(2h-1+1)/2=h(2h-1)，刚好等于Hexagonal数列。所以题目可以简化成求Pentagonal和Hexagonal共同存在的数。
</p>

<p>
我们从第144个数开始枚举Hexagonal数列，对于每个该数列里的数，测试其是否存在于Pentagonal数列中，具体如何测试，我们可以通过一元二次方程的求值公式来计算。假设Pentagonal数列中的某个数为h，另n(3n-1)/2=h,即\( 3n^2-n-2h=0 \)，根据求值公式有\( n=\frac{1+\sqrt{1+24h}}{6} \)，这里只取其正值，然后判断n是否为整数，若n为整数，则证明值h在Pentagonal数列中。
</p>

<hr />
<p>
<code>History</code>: 2012-03-18 19:43 add.
</p>

        </div>
        <div id="sidebar"></div>
        <div id="footer"></div>
    </div>
    <script src="../assets/js/itcbxwiki.js" type="text/javascript"></script>
</body>
</html>
