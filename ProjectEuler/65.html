<html>
<head>
    <title>65</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="Stylesheet" type="text/css" href="../assets/styles/style.css" />
    <script src="../assets/js/jquery.js" type="text/javascript"></script>
    <script>
        var root_path = "../";
    </script>

</head>
<body>
    <div id="all">
        <div id="header"></div>
        <div id="main">
            
<h1 id="toc_1">Project Euler Problem 65</h1>

<h2 id="toc_1.1">Description</h2>
<p>
The square root of 2 can be written as an infinite continued fraction.
</p>
\[
\sqrt{2} = 1 + \frac{1}{2+\frac{1}{2+\frac{1}{2+\frac{1}{2+...}}}}
\]
<p>
The infinite continued fraction can be written, \( \sqrt{2} = [1;(2)] \), (2) indicates that 2 repeats ad infinitum. In a similar way, \( \sqrt{23} = [4;(1,3,1,8)] \).
</p>

<p>
It turns out that the sequence of partial values of continued fractions for square roots provide the best rational approximations. Let us consider the convergents for $ \sqrt{2}.
</p>
\[
1 + \frac{1}{2} = \frac{3}{2} \\
1 + \frac{1}{2+\frac{1}{2}} = \frac{7}{5} \\
1 + \frac{1}{2+\frac{1}{2+\frac{1}{2}}} = \frac{17}{12} \\
1 + \frac{1}{2+\frac{1}{2+\frac{1}{2+\frac{1}{2}}}} = \frac{41}{29}
\]
<p>
Hence the sequence of the first ten convergents for \( \sqrt{2} \) are:
</p>

<p>
1, 3/2, 7/5, 17/12, 41/29, 99/70, 239/169, 577/408, 1393/985, 3363/2378, ...
What is most surprising is that the important mathematical constant,
e = [2; 1,2,1, 1,4,1, 1,6,1 , ... , 1,2k,1, ...].
</p>

<p>
The first ten terms in the sequence of convergents for e are:
</p>

<p>
2, 3, 8/3, 11/4, 19/7, 87/32, 106/39, 193/71, 1264/465, 1457/536, ...
The sum of digits in the numerator of the \( 10^th \) convergent is 1+4+5+7=17.
</p>

<p>
Find the sum of digits in the numerator of the \( 100^th \) convergent of the continued fraction for e.
</p>

<h2 id="toc_1.2">Solution</h2>
<p>
e可以写成分数的形式，求当精度为100时e的分数表现形式的分子所有数字之和。
</p>

<p>
通过python的Fraction可以很容易的写该题。
</p>

<h2 id="toc_1.3">Code</h2>
<pre class="brush: python;">
#!/usr/bin/python3
# -*- coding: utf-8 -*-

import math
import re
from timeit import Timer
from fractions import Fraction

def the_sum_of_digits_in_the_numerator():
    res = Fraction(0, 1)
    for i in range(66, 1, -2):
        res = 1/(1+1/(i+1/(1+res)))
    res += 2
    return sum(int(i) for i in str(res.numerator))

if __name__ == "__main__":
    print(the_sum_of_digits_in_the_numerator())
</pre>
<hr />
<p>
<code>History</code>: 2012-03-14 00:44 add.
</p>

        </div>
        <div id="sidebar"></div>
        <div id="footer"></div>
    </div>
    <script src="../assets/js/itcbxwiki.js" type="text/javascript"></script>
</body>
</html>
